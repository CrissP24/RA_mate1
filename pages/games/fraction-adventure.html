<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Juego de Fracciones con Pizza</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0fff4;
    text-align: center;
    padding: 20px;
  }
  h1 {
    color: #007A33;
  }
  .pizza-container {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 20px auto;
  }
  .slice {
    position: absolute;
    width: 50%;
    height: 50%;
    background: #ffcc80;
    border: 2px solid #e65100;
    border-radius: 100% 0 0 0 / 100% 0 0 0;
    transform-origin: bottom right;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  .slice.active {
    background: #ff5722;
  }
  .options {
    margin-top: 20px;
  }
  button {
    margin: 0 10px;
    font-size: 18px;
    padding: 8px 16px;
    border: none;
    border-radius: 6px;
    background: #007A33;
    color: white;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #004d1a;
  }
  #message {
    margin-top: 20px;
    font-size: 20px;
    font-weight: bold;
  }
</style>
</head>
<body>

<h1>¬øQu√© fracci√≥n representa la pizza pintada?</h1>

<div class="pizza-container" id="pizza"></div>

<div class="options" id="options"></div>

<div id="message"></div>

<script>
  // Par√°metros del juego
  const totalSlicesOptions = [4, 6, 8];
  let totalSlices, paintedSlices;

  const pizzaContainer = document.getElementById('pizza');
  const optionsContainer = document.getElementById('options');
  const message = document.getElementById('message');

  // Crear el pizza div con las porciones
  function crearPizza(total, pintadas) {
    pizzaContainer.innerHTML = '';
    // √Ångulo por cada slice
    const anguloSlice = 360 / total;

    for(let i=0; i < total; i++) {
      const slice = document.createElement('div');
      slice.classList.add('slice');
      // rotar cada slice para posicionarla
      slice.style.transform = `rotate(${i * anguloSlice}deg) skewY(-${90 - anguloSlice}deg)`;
      // Pintar si es slice pintada
      if(i < pintadas) {
        slice.classList.add('active');
      }
      pizzaContainer.appendChild(slice);
    }
  }

  // Crear opciones de fracci√≥n para que el usuario escoja
  function crearOpciones(correcta, total) {
    optionsContainer.innerHTML = '';

    // Opci√≥n correcta
    const correctaBtn = document.createElement('button');
    correctaBtn.textContent = `${correcta}/${total}`;
    correctaBtn.onclick = () => verificarRespuesta(true);

    // Otras opciones incorrectas (3 m√°s)
    const opciones = new Set();
    opciones.add(`${correcta}/${total}`);

    while (opciones.size < 4) {
      const num = Math.floor(Math.random() * total) + 1;
      if(num !== correcta) {
        opciones.add(`${num}/${total}`);
      }
    }

    // Mezclar opciones
    const listaOpciones = Array.from(opciones).sort(() => Math.random() - 0.5);

    listaOpciones.forEach(opcion => {
      const btn = document.createElement('button');
      btn.textContent = opcion;
      btn.onclick = () => {
        if(opcion === `${correcta}/${total}`) {
          verificarRespuesta(true);
        } else {
          verificarRespuesta(false);
        }
      }
      optionsContainer.appendChild(btn);
    });
  }

  // Verificar respuesta
  function verificarRespuesta(acertado) {
    if(acertado) {
      message.textContent = '¬°Correcto! üéâ';
      message.style.color = '#007A33';
    } else {
      message.textContent = 'Incorrecto. Intenta de nuevo.';
      message.style.color = '#d32f2f';
    }
  }

  // Iniciar juego con valores aleatorios
  function iniciarJuego() {
    message.textContent = '';
    // escoger total slices y pintadas
    totalSlices = totalSlicesOptions[Math.floor(Math.random() * totalSlicesOptions.length)];
    paintedSlices = Math.floor(Math.random() * (totalSlices - 1)) + 1; // entre 1 y totalSlices-1

    crearPizza(totalSlices, paintedSlices);
    crearOpciones(paintedSlices, totalSlices);
  }

  // Lanzar el juego
  iniciarJuego();
</script>

</body>
</html>
